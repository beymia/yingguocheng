(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pintuan-pintuan"],{1334:function(e,t,n){var i=n("f890");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("7a1b3e25",i,!0,{sourceMap:!1,shadowMode:!1})},"20a3":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 英国城自定义 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*通用字体属性*/\r\n/*margin或者padding值*/\r\n/*默认整体的背景色*/\r\n/*默认的局部主题色*/.hover-comon[data-v-f31801d0]{opacity:.6}.bordrline[data-v-f31801d0]{height:1px;opacity:.5;border-top:1px solid #ccc}.pintuanShop[data-v-f31801d0]{margin-top:%?40?%;padding:0 %?24?%}.pintuanShop .info[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-bottom:%?10?%}.pintuanShop .info .shop_icon[data-v-f31801d0]{width:%?44?%;height:%?44?%;margin-right:%?10?%}.pintuanShop .info .shop_name[data-v-f31801d0]{font-size:%?34?%;color:#333;font-weight:700;-webkit-box-flex:1;-webkit-flex:1;flex:1}.pintuanShop .info .type[data-v-f31801d0]{font-size:%?22?%;color:#333;background:#f2f2f2;padding:%?6?% %?10?%}.pintuanShop .distance[data-v-f31801d0]{font-size:%?26?%;color:#666;margin-bottom:%?30?%}.pintuanShop .biaoyu[data-v-f31801d0]{font-size:%?26?%;color:#666;margin-bottom:%?80?%}.pintuanShop .pindan_invite[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;margin-bottom:%?50?%}.pintuanShop .pindan_invite .pindan_cancel[data-v-f31801d0]{white-space:nowrap;width:%?160?%;height:%?64?%;background:#fff;border:1px solid #17a1ff;-webkit-border-radius:%?4?%;border-radius:%?4?%;margin-right:%?30?%;font-size:%?26?%;color:#17a1ff}.pintuanShop .pindan_invite .invite[data-v-f31801d0]{width:%?160?%;height:%?64?%;background:#17a1ff;-webkit-border-radius:%?4?%;border-radius:%?4?%;font-size:%?26?%;color:#fff}.detail[data-v-f31801d0]{background-color:#f5f5f5;padding-bottom:%?200?%}.detail .title[data-v-f31801d0]{height:%?100?%;line-height:%?100?%;font-size:%?24?%;color:#666;padding-left:%?24?%}.detail .order[data-v-f31801d0]{height:100%}.detail .order .order_item[data-v-f31801d0]{background-color:#fff;padding:0 %?24?%;margin-bottom:%?50?%}.detail .order .order_item .user_info[data-v-f31801d0]{height:%?112?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.detail .order .order_item .user_info .left[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.detail .order .order_item .user_info .left .user_icon[data-v-f31801d0]{width:%?52?%;height:%?52?%;margin-right:%?20?%}.detail .order .order_item .user_info .left .user_name[data-v-f31801d0]{font-size:%?28?%;color:#333;margin-right:%?10?%;max-width:%?280?%}.detail .order .order_item .user_info .left .is_me[data-v-f31801d0]{width:%?30?%;height:%?30?%;background:#17a1ff;font-size:%?20?%;color:#fff;text-align:center;line-height:%?30?%;margin-right:%?10?%}.detail .order .order_item .user_info .left .is_you[data-v-f31801d0]{background-color:#adadad}.detail .order .order_item .user_info .left .user_status[data-v-f31801d0]{font-size:%?24?%;color:#999}.detail .order .order_item .user_info .ljdd[data-v-f31801d0]{width:%?150?%;height:%?48?%;background:#fff;border:1px solid #ccc;-webkit-border-radius:%?4?%;border-radius:%?4?%;font-size:%?22?%;color:#999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.detail .order .order_item .user_info .clear_edit[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.detail .order .order_item .user_info .clear_edit .clear[data-v-f31801d0], .detail .order .order_item .user_info .clear_edit .edit[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?20?%;height:%?48?%;background:#fff;border:1px solid #ccc;color:#999;-webkit-border-radius:%?4?%;border-radius:%?4?%;font-size:%?22?%}.detail .order .order_item .user_info .clear_edit .edit[data-v-f31801d0]{margin-left:%?20?%}.detail .order .order_item .user_order .good[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?30?% 0}.detail .order .order_item .user_order .good .icon[data-v-f31801d0]{width:%?60?%;height:%?60?%;margin:0 %?20?%}.detail .order .order_item .user_order .good .intro[data-v-f31801d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.detail .order .order_item .user_order .good .intro .good_name_price[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#333;font-size:%?28?%}.detail .order .order_item .user_order .good .intro .good_name_price .good_name[data-v-f31801d0]{width:%?400?%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:%?10?%}.detail .order .order_item .user_order .good .intro .good_materials_number[data-v-f31801d0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.detail .order .order_item .user_order .good .intro .good_materials_number .materials[data-v-f31801d0]{width:%?400?%;font-size:%?20?%;color:#999}.detail .order .order_item .user_order .good .intro .good_materials_number .number[data-v-f31801d0]{color:#999;font-size:%?26?%}.jiesuan[data-v-f31801d0]{width:100%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;position:fixed;left:0;bottom:0}.jiesuan .left[data-v-f31801d0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?10?% 0 %?10?% %?24?%}.jiesuan .left .left_top .price[data-v-f31801d0]{color:#333;font-size:%?30?%;margin-right:%?16?%}.jiesuan .left .left_top .my_pirce[data-v-f31801d0]{color:#333;font-size:%?28?%}.jiesuan .left .tip[data-v-f31801d0]{color:#e46a68;font-size:%?20?%}.jiesuan .right[data-v-f31801d0]{background-color:#17a1ff;color:#fff;width:%?200?%;line-height:%?100?%;height:%?100?%;text-align:center}',""]),e.exports=t},"2d9e":function(e,t,n){var i=n("20a3");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("4f1ad388",i,!0,{sourceMap:!1,shadowMode:!1})},"435e":function(e,t,n){"use strict";var i=n("1334"),a=n.n(i);a.a},"49b5":function(e,t,n){"use strict";var i=n("4ea4");n("99af"),n("7db0"),n("c740"),n("4160"),n("4e82"),n("a434"),n("d3b7"),n("e25e"),n("ac1f"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("5530"));n("96cf");var r=i(n("1da1")),o=n("2f62"),s=n("c0f8"),c=i(n("f3dc")),u=i(n("6afc")),d={components:{locaAutho:c.default,qrcode:u.default},data:function(){return{pintuan_info:[],showLocaAutho:!1,qrUrl:"",showQr:!1,sett:!0,onShowSett:!1}},onLoad:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,a,r,o,c,u,d,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.code){n.next=40;break}if(t.SET_PINTUAN_CODE(e.code),!e.invite){n.next=35;break}if(i=uni.getStorageSync("token"),i){n.next=9;break}return getApp().globalData.isInvite=!0,getApp().globalData.pintuanCode=e.code,uni.showModal({content:"您還沒有登錄，請先登錄",success:function(e){e.confirm?uni.navigateTo({url:"/pages/login/login?from=pintuan"}):e.cancel&&uni.switchTab({url:"/pages/order/order"})}}),n.abrupt("return");case 9:return getApp().globalData.isInvite=!1,n.prev=10,n.next=13,(0,s.pintuan_detail)({code:e.code});case 13:if(a=n.sent,1001!=a.code){n.next=22;break}return n.next=17,(0,s.pintuan_invite)({code:e.code});case 17:if(r=n.sent,console.log(r),1001!=r.code){n.next=22;break}return uni.showModal({content:"拼單已取消或存在其他進行中的拼單",showCancel:!1,success:function(){uni.switchTab({url:"/pages/order/order"})}}),n.abrupt("return");case 22:n.next=28;break;case 24:return n.prev=24,n.t0=n["catch"](10),console.log(n.t0),n.abrupt("return");case 28:return uni.setStorageSync("pintuanCode",e.code),t.SET_PINTUAN_CODE(e.code),n.next=32,t.pintuan_init(e.code);case 32:return n.abrupt("return");case 35:return t.SET_PINTUAN_CODE(e.code),n.next=38,t.pintuan_init(e.code);case 38:n.next=84;break;case 40:if(!getApp().globalData.isInvite){n.next=67;break}return n.prev=41,o=getApp().globalData.pintuanCode,n.next=45,(0,s.pintuan_detail)({code:o});case 45:if(n.sent,1001!=invited.code){n.next=57;break}return n.next=49,(0,s.pintuan_invite)({code:o});case 49:return c=n.sent,n.next=52,(0,s.pintuan_detail)({code:o});case 52:if(u=n.sent,console.log(c),1001!=c.code||1001!=u.code){n.next=57;break}return uni.showModal({content:"拼單已取消或存在其他進行中的拼單",showCancel:!1,success:function(){uni.switchTab({url:"/pages/order/order?from=pintuan"})}}),n.abrupt("return");case 57:return uni.setStorageSync("pintuanCode",o),t.SET_PINTUAN_CODE(o),n.next=61,t.pintuan_init(o);case 61:return n.abrupt("return");case 64:return n.prev=64,n.t1=n["catch"](41),n.abrupt("return");case 67:if(d=uni.getStorageSync("token"),d){n.next=71;break}return uni.showModal({content:"您還沒有登錄，請先登錄",success:function(e){e.confirm?uni.navigateTo({url:"/pages/login/login?from=pintuan"}):e.cancel&&uni.switchTab({url:"/pages/order/order"})}}),n.abrupt("return");case 71:if(console.log(t.choosedShop),t.pintuanType){n.next=76;break}return console.log(t.pintuanType),uni.showModal({content:"拼單不存在",showCancel:!1,success:function(){uni.switchTab({url:"/pages/order/order"})}}),n.abrupt("return");case 76:return n.next=78,(0,s.pintuan_creat)({shop_id:t.choosedShop.id,vehicle_method:t.pintuanType});case 78:return l=n.sent.data.code,uni.setStorageSync("pintuanCode",l),t.SET_PINTUAN_CODE(l),console.log(88888888888),n.next=84,t.pintuan_init(l);case 84:case"end":return n.stop()}}),n,null,[[10,24],[41,64]])})))()},onShow:function(){uni.showLoading({}),setTimeout((function(){uni.hideLoading()}),1e3),this.onShowSett?(this.sett=!0,this.pintuan_init(this.pintuanCode)):this.onShowSett=!0},onHide:function(){this.sett=!1},onUnload:function(){this.sett=!1},onShareAppMessage:function(e){if("button"===e.from)return{title:"【拼單】"+this.pintuan_info[0].user_name+"邀請你一起喝奶茶啦",path:"/pages/pintuan/pintuan?invite=true&code="+this.pintuanCode,imageUrl:"/static/images/order/invite.jpg"}},computed:(0,a.default)((0,a.default)({},(0,o.mapState)(["orderType","pintuanType","choosedShop","choosedAddress","shopList","pintuanCart","pintuanShop","pintuanCode"])),{},{isCaptain:function(){if(this.pintuan_info.length)return!(!this.pintuan_info[0].captain||1!=this.pintuan_info[0].captain)},total_money:function(){if(this.pintuan_info.length)return parseInt(100*this.pintuan_info.find((function(e){return 1==e.captain})).total_money)/100},money:function(){if(this.pintuan_info.length)return parseInt(100*this.pintuan_info[0].money)/100}}),methods:(0,a.default)((0,a.default)({},(0,o.mapMutations)(["SET_ORDER_TYPE","SET_PINTUAN_TYPE","SET_PINTUAN_CART","SET_SHOP_LIST","SET_CHOOSED_SHOP","SET_PINTUAN_SHOP","SET_PINTUAN_CODE"])),{},{resort_pintuan_info:function(e){var t=e.findIndex((function(e){return 1==e.is_me}));if(-1!=t){console.log(t);var n=e.splice(t,1);e.unshift(n[0])}},invite:function(){uni.getProvider({service:"share",success:function(e){console.log(JSON.stringify(e))},complete:function(e){console.log(e)}}),uni.share({provider:"weixin",scene:"WXSceneSession",type:5,imageUrl:"/pages/pintuan/pintuan?invite=true&code="+this.pintuanCode,title:"【拼單】"+this.pintuan_info[0].user_name+"邀請你一起喝奶茶啦",miniProgram:{id:"gh_8a9587e12406",path:"/pages/pintuan/pintuan?invite=true&code="+this.pintuanCode,type:0,webUrl:"http://uniapp.dcloud.io"},success:function(e){console.log("shareshareshareshareshareshareshareshareshareshareshareshareshareshare"),console.log(JSON.stringify(e))},complete:function(e){console.log("shareshareshareshareshareshareshareshareshareshareshareshareshareshare"),console.log(JSON.stringify(e))}})},pindan_cancel:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({}),t.prev=1,t.next=4,(0,s.pintuan_cancel)({code:e.pintuanCode});case 4:n=t.sent,1e3==n.code&&(uni.setStorageSync("pintuanCode",""),e.SET_PINTUAN_TYPE(NaN)),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:uni.switchTab({url:"/pages/order/order"}),uni.hideLoading();case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},clear:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showModal({content:"確定要清空當前選定的商品嗎？",success:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.confirm){t.next=13;break}return console.log("aaaaaaaaaaaa"),t.prev=2,console.log("bbbbbbbbbbbb"),t.next=6,(0,s.pintuan_order)({code:e.pintuanCode,goods_data:"[]"});case 6:i=t.sent,1001==i.code&&uni.showToast({title:"清空失敗，請稍候重試！",duration:2e3}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));function n(e){return t.apply(this,arguments)}return n}()});case 1:case"end":return t.stop()}}),t)})))()},pintuan_init:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,a,r,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("codecodecode"),console.log(e),t.sett){n.next=4;break}return n.abrupt("return");case 4:if(0!=t.shopList.length){n.next=14;break}if(i=!0,i){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,t.long_lati();case 10:return a=n.sent,t.loca_res=a,n.next=14,t.shop_init(t.loca_res);case 14:return n.next=16,(0,s.pintuan_detail)({code:e});case 16:if(r=n.sent,1001!=r.code){n.next=22;break}return uni.showModal({content:"拼單已取消或不存在",showCancel:!1,success:function(){uni.switchTab({url:"/pages/order/order"})}}),uni.setStorageSync("pintuanCode",""),t.SET_PINTUAN_TYPE(NaN),n.abrupt("return");case 22:o=r.data,console.log(o),t.resort_pintuan_info(o),console.log(o),t.pintuan_info=o,t.SET_PINTUAN_TYPE("外卖"==o[0].vehicle_method?1:2),console.log("this.pintuan_info"),console.log(t.pintuan_info),t.SET_PINTUAN_SHOP(t.shopList.find((function(e){return e.id==o[0].shop_id}))),console.log(t.pintuanShop),c=[],o.forEach((function(e,t){c[t]=e.goods_data?e.goods_data:[]})),console.log("pintuanCart"),console.log(c),u=c.concat([]),console.log("pintuanCart1"),console.log(u),c.forEach((function(e,n){e.forEach((function(e){e.is_checked=!0,e.id=e.goods_id,e.name=e.goods_name,e.price=parseInt(100*e.goods_price)/100,e.truePrice=parseInt(100*e.goods_price)/100,e.imgurl=t.imgSrc+e.home_avatar,e.number=e.goods_num,e.materials_text=e.goods_norm,e.norm_id=e.norm_id&&e.norm_id.length?e.norm_id.split(","):[]}))})),console.log(88888888),console.log(c),t.SET_PINTUAN_CART(c),getApp().globalData.isInvite=!1;case 44:case"end":return n.stop()}}),n)})))()},long_lati:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=0,i=0,t.next=4,e.$jsonp("https://apis.map.qq.com/ws/location/v1/ip",{key:"MBTBZ-2PMKR-QARWA-W7MOH-AJ76K-6HB2J",output:"jsonp"}).catch((function(e){}));case 4:return a=t.sent,n=a.result.location.lat,i=a.result.location.lng,console.log("latitude:"+n+"longitude:"+i),t.abrupt("return",{latitude:n,longitude:i});case 9:case"end":return t.stop()}}),t)})))()},shop_init:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.shops_list)({latitude:e.latitude,longitude:e.longitude});case 2:return i=n.sent.data,i.sort((function(e,t){return parseInt(100*e.distance)<=parseInt(100*t.distance)?-1:1})),a=[],i.forEach(function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.push((0,s.shops_detail)({shop_id:t.id}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.next=8,Promise.all(a).then((function(e){var t=0;i.forEach((function(n){n.detail=e[t].data,t++}))}));case 8:console.log(i),t.SET_SHOP_LIST(i);case 10:case"end":return n.stop()}}),n)})))()},judge_is_rest:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.shops_detail)({shop_id:e.pintuanShop.id});case 2:n=t.sent.data.work_status,1!=n&&(e.is_rest=!0,uni.showModal({content:"本店已休息，您可以選擇切換門店",cancelText:"留在當前",confirmText:"切換門店",success:function(e){e.confirm?uni.navigateTo({url:"/pages/chooseShop/chooseShop"}):e.cancel}}));case 4:case"end":return t.stop()}}),t)})))()},pay:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,a,r,o,s,c,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=uni.getStorageSync("token"),console.log(i),i){n.next=5;break}return uni.showModal({content:"您還沒有登錄，請先登錄",success:function(e){e.confirm?uni.navigateTo({url:"/pages/login/login?from=pintuan"}):e.cancel}}),n.abrupt("return");case 5:if(t.judge_is_rest(),t.is_rest){n.next=33;break}if(uni.showLoading({}),a=getApp(),r={},[],o=[],t.pintuanCart.forEach((function(e){e.forEach((function(e){var t={};t.id=e.id,t.goods_name=e.name,t.goods_price=e.truePrice,t.home_avatar=e.imgurl,t.norm=e.materials_text,t.norm_id=e.norm_id?e.norm_id:[],t.goods_num=e.number,o.push(t)}))})),0!=o.length){n.next=17;break}return uni.showModal({content:"您還沒有選購商品",showCancel:!1}),uni.hideLoading(),n.abrupt("return");case 17:if(s=function(){r.goods_data=o,r.shop_id=t.pintuanShop.id,r.shop_name=t.pintuanShop.shop_name,r.distance=t.pintuanShop.distance,r.delivery_cost=t.pintuanShop.detail.delivery_cost,r.lowest_cost=t.pintuanShop.detail.lowest_cost,r.payment_info=e,r.address_id=t.choosedAddress.id,r.contact_name=t.choosedAddress.contact_name,r.contact_sex=t.choosedAddress.contact_sex,r.contact_phone=t.choosedAddress.contact_phone,r.contact_address=t.choosedAddress.contact_address,r.contact_number=t.choosedAddress.contact_number,r.haul_method=t.pintuanType,r.current_cups=t.pintuanShop.detail.current_cups,r.current_order=t.pintuanShop.detail.current_order,a.globalData.goodsPayment=r,console.log(0xa1b01d4b1c7),console.log(r)},1!=t.pintuanType){n.next=30;break}if(c=parseInt(100*e),u=parseInt(100*t.pintuanShop.detail.lowest_cost),d=u-c,!(c<u)){n.next=26;break}return uni.showModal({content:"滿￥"+u/100+"起送,還差￥"+d/100,showCancel:!1}),uni.hideLoading(),n.abrupt("return");case 26:return s(),uni.hideLoading(),uni.navigateTo({url:"/pages/userAdress/userAdress?from=pintuan"}),n.abrupt("return");case 30:s(),uni.hideLoading(),uni.navigateTo({url:"/pages/orderPayment/orderPayment"});case 33:case"end":return n.stop()}}),n)})))()}})};t.default=d},"5fa0":function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=i(n("ade3")),o=(a={data:function(){return{}},props:{qrUrl:{type:String,default:""},show:{type:[Boolean,String]}},watch:{show:{handler:function(e){e?this.open():this.close()}}},mounted:function(){1==this.show&&this.open()}},(0,r.default)(a,"data",(function(){return{}})),(0,r.default)(a,"methods",{open:function(){this.$refs["qrcode"].open()},close:function(){this.$refs["qrcode"].close()}}),a);t.default=o},"6afc":function(e,t,n){"use strict";n.r(t);var i=n("e74a"),a=n("e0cf");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("435e");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"a8a6fa5a",null,!1,i["a"],o);t["default"]=c.exports},"97fe":function(e,t,n){"use strict";n.r(t);var i=n("49b5"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"9d02":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"pintuanShop"},[n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"shop_icon"},[n("v-uni-image",{attrs:{src:"/static/images/order/shop_icon.png",mode:""}})],1),n("v-uni-view",{staticClass:"shop_name"},[e._v(e._s(e.pintuanShop.shop_name))]),n("v-uni-view",{staticClass:"type"},[e._v(e._s(1==e.pintuanType?"外賣":"自取"))])],1),n("v-uni-view",{staticClass:"biaoyu"},[e._v("快來叫上好友壹起喝奶茶吧~")]),n("v-uni-view",{staticClass:"pindan_invite"},[e.isCaptain?[n("v-uni-button",{staticClass:"pindan_cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pindan_cancel.apply(void 0,arguments)}}},[e._v("取消拼单")]),n("v-uni-button",{staticClass:"invite",attrs:{"hover-class":"hover-comon"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.invite.apply(void 0,arguments)}}},[e._v("邀請好友")])]:[n("v-uni-button",{staticClass:"pindan_cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pindan_cancel.apply(void 0,arguments)}}},[e._v("退出拼单")])]],2)],1),n("v-uni-view",{staticClass:"detail"},[n("v-uni-view",{staticClass:"title"},[e._v("拼單詳情")]),n("v-uni-view",{staticClass:"order"},e._l(e.pintuan_info,(function(t,i){return n("v-uni-view",{staticClass:"order_item"},[n("v-uni-view",{staticClass:"user_info"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-view",{staticClass:"user_icon"},[n("v-uni-image",{attrs:{src:"/static/images_t/pintuan/touxiang.png",mode:""}})],1),n("v-uni-view",{staticClass:"user_name"},[e._v(e._s(t.user_name))]),n("v-uni-view",{staticClass:"is_me",class:{is_you:!t.is_me}},[e._v(e._s(t.is_me?"我":"友"))])],1),t.is_me?[t.goods_data&&t.goods_data.length?n("v-uni-view",{staticClass:"clear_edit"},[n("v-uni-view",{staticClass:"clear",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[e._v("清空")]),n("v-uni-navigator",{staticClass:"edit",attrs:{url:"/pages/order/order_pintuan"}},[e._v("修改商品")])],1):n("v-uni-navigator",{staticClass:"ljdd",attrs:{url:"/pages/order/order_pintuan"}},[e._v("立即點單")])]:e._e()],2),t.goods_data?n("v-uni-view",{staticClass:"user_order"},[n("v-uni-view",{staticClass:"bordrline"}),e._l(t.goods_data,(function(t,i){return n("v-uni-view",{staticClass:"good"},[n("v-uni-view",{staticClass:"icon"},[n("v-uni-image",{attrs:{src:t.imgurl,mode:""}})],1),n("v-uni-view",{staticClass:"intro"},[n("v-uni-view",{staticClass:"good_name_price"},[n("v-uni-view",{staticClass:"good_name"},[e._v(e._s(t.goods_name))]),n("v-uni-view",{staticClass:"good_price"},[e._v("￥"+e._s(t.goods_price))])],1),n("v-uni-view",{staticClass:"good_materials_number"},[n("v-uni-view",{staticClass:"materials"},[e._v(e._s(t.goods_norm))]),n("v-uni-view",{staticClass:"number"},[e._v("x"+e._s(t.goods_num))])],1)],1)],1)}))],2):e._e()],1)})),1)],1),e.isCaptain?n("v-uni-view",{staticClass:"jiesuan"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-view",{staticClass:"left_top"},[n("v-uni-text",{staticClass:"price"},[e._v("￥"+e._s(e.total_money))]),n("v-uni-text",{staticClass:"my_pirce"},[e._v("(我点￥"+e._s(e.money)+")")])],1),n("v-uni-view",{staticClass:"tip"},[e._v("如有商品參與優惠/活動，請結算實付金額為準")])],1),n("v-uni-view",{staticClass:"right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pay(e.total_money)}}},[e._v("結算")])],1):e._e(),n("qrcode",{ref:"qrcode",attrs:{qrUrl:e.qrUrl}})],1)},r=[]},a96d:function(e,t,n){"use strict";var i=n("2d9e"),a=n.n(i);a.a},c10d:function(e,t,n){"use strict";n.r(t);var i=n("9d02"),a=n("97fe");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("a96d");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"f31801d0",null,!1,i["a"],o);t["default"]=c.exports},e0cf:function(e,t,n){"use strict";n.r(t);var i=n("5fa0"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},e74a:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uniPopup:n("c354").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uni-popup",{ref:"qrcode",attrs:{type:"center",maskClick:!0}},[n("v-uni-view",{staticClass:"qr_con"},[n("v-uni-view",{staticClass:"title"},[e._v("請使用點單頁面右上角的掃碼功能掃描下方二維碼")]),n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:e.qrUrl,mode:""}})],1)],1)],1)},r=[]},f890:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 英国城自定义 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*通用字体属性*/\r\n/*margin或者padding值*/\r\n/*默认整体的背景色*/\r\n/*默认的局部主题色*/.qr_con[data-v-a8a6fa5a]{width:%?600?%;background-color:#fff;padding:%?60?%;-webkit-box-sizing:border-box;box-sizing:border-box}.qr_con .title[data-v-a8a6fa5a]{font-size:%?32?%;color:#333;margin-bottom:%?30?%}.qr_con .img[data-v-a8a6fa5a]{width:100%;height:%?480?%}',""]),e.exports=t}}]);